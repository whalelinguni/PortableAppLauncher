### I got sick of dealing with the portableapps.com launcher, some things are just overly complicated for no real reason. 

### Wrote this quickly, has basic launcher features. WIP as I plan to add more, such as using symlinks instead of movie files/directories

# ğŸ§° Portable App Launcher

A flexible launcher for running portable Windows applications with custom configuration, registry virtualization, and cleanup logic.  
Designed for **isolating portable apps** while preserving user data between sessions.

---

## ğŸ“ Directory Structure

```
PortableAppLauncher/
â”œâ”€â”€ App/
â”‚   â”œâ”€â”€ AppInfo/
â”‚   â”‚   â””â”€â”€ Launcher/
â”‚   â”‚       â”œâ”€â”€ launcher.ini
â”‚   â”‚       â””â”€â”€ splash.jpg (optional)
â”‚   â”œâ”€â”€ DefaultData/          # Default files (copied on first run)
â”œâ”€â”€ Data/
â”‚   â”œâ”€â”€ Files/                # Persistent user data
â”‚   â”œâ”€â”€ Reg/                  # Registry data (active session)
â”‚   â”‚   â””â”€â”€ PreviousData/      # Registry data from previous session
â”œâ”€â”€ launcher.exe              # Compiled launcher
```

---

## âš™ï¸ **launcher.ini Format**

### Required Fields

```ini
[Launch]
ProgramExecutable=App\MyApp\MyApp.exe
runasadmin=false
```

### Optional Sections

#### ğŸ› ï¸ Debugging Mode

```ini
[Debug]
debug=1  # Enables verbose console + file logging
```

#### ğŸ“‚ File Handling (`Data\Files`)

```ini
[DataFiles]
MyAppConfig=Data\Files\MyApp\Config.ini|%APPDATA%\MyApp\Config.ini
```

- On **launch**, copies `Data\Files\MyApp\Config.ini` â†’ `%APPDATA%\MyApp\Config.ini`
- On **exit**, **saves changes** from `%APPDATA%\MyApp\Config.ini` back into `Data\Files\MyApp\Config.ini`

#### ğŸ—‘ï¸ Registry Cleanup

```ini
[RegCleanup]
HKCU\Software\MyApp
HKLM\SOFTWARE\Example
```

- **Moves the previous registry session data** to `Data\Reg\PreviousData\`
- **Exports each key before deletion** into `Data\Reg\`
- **Deletes** the registry keys from the system

Example exported files:
```
Data\Reg\MyApp.reg
Data\Reg\Example.reg
```

> âš ï¸ The **previous sessionâ€™s** registry exports are stored in `Data\Reg\PreviousData\` before new exports happen.

#### ğŸ§¹ File Cleanup

```ini
[DataCleanup]
%APPDATA%\MyApp\Cache
```

- **Deletes** `Cache` folder from `%APPDATA%\MyApp` after the app exits.

---

## ğŸ—ï¸ **How It Works**

### **ğŸ”½ On Launch**
1. **Loads `launcher.ini`**
2. **Moves previous registry exports** to `PreviousData/`
3. **Imports** all `.reg` files from `Data\Reg\`
4. **Copies files** as defined in `[DataFiles]`
5. **Runs `ProgramExecutable`**

### **ğŸ†— While Running**
- Launcher **stays active** in the background.

### **ğŸ”¼ On Exit**
1. **Exports & deletes** registry keys listed in `[RegCleanup]`
2. **Saves** modified files from `%APPDATA%` back into `Data\Files`
3. **Deletes** files listed in `[DataCleanup]`
4. **Moves previous `.reg` exports** into `Data\Reg\PreviousData\`

---

## ğŸš€ Features

- âœ… **Registry Import/Export** â€“ Handles `.reg` files automatically.
- ğŸ” **Admin Elevation** â€“ Relaunches as admin if `runasadmin=true`.
- ğŸ§¹ **Registry & File Cleanup** â€“ Removes leftover data after app exit.
- ğŸ–¼ï¸ **Splash Screen Support** â€“ Displays `splash.jpg` for 3 seconds if present.
- ğŸ§¾ **Debug Logging** â€“ Stores logs when `[Debug] debug=1`.

---

## ğŸ“¦ Future Improvements

- **Symlink Support** â€“ Not yet implemented, but planned.
- **Auto-updater for portable apps**.
- **Profile-based configurations**.
- **GUI editor for `launcher.ini`**.

---

## ğŸ§‘â€ğŸ’» License

MIT License
